<!doctype html>
<html>
<head>
<meta name="keywords" content="甜爱，SweetLove,甜品，甜点，生日蛋糕，冰淇淋，冰品"/>
<meta name="description" content="甜爱网上商城是专注于甜品销售、进口的网站，各种甜品、甜点齐全，还有解暑的各种冰品任顾客挑选，让他们感受到爱的温馨。">
<meta charset="utf-8">
<title>我的甜品，你的爱~</title>
<link rel="shortcut icon" href="images/logo_01.png">
<link rel="stylesheet" href="css/xiangqing.css">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
    <script>
        $(function () {
             let productId = getQueryString("productId");
            let data = {
                productId:productId
            };
            $.ajax({
                url:'http://localhost:8080/product',
                type:'GET',
                data:data,
                success:function (result) {
                    if (result.status == 20000 && result.msg == "成功") {
                        // 获取后端传过来的data对象
                        let product = result.data;
                        // 通过class选择器获取ul标签
                        let $ul = $(".title");
                        // 往ul里面添加一个li标签并动态的添加内容
                        $ul.prepend(
                            $("<li>").text(product.title)
                        )
                        // 获取div标签
                        let $div = $(".pic");
                        // 获取商品详情集合
                        let productDetail = result.data.productDetailDtoList;
                        $div.append(
                            $("<ol>")
                                .append(
                                    $("<img>").attr("src","../cake/img/" + productDetail[0].img).css({"width":"720px"})
                                )
                        )
                        // 获取ul标签
                        let $ul2 = $(".pic2");
                        $ul2.append(
                            $("<li>")
                                .append(
                                    $("<img>").attr("src","../cake/img/" + productDetail[1].img).css({"width":"150px","height":"120px"})
                                )
                        )
                            .append(
                                $("<li>")
                                    .append(
                                        $("<img>").attr("src","../cake/img/" + productDetail[2].img).css({"width":"150px","height":"120px"})
                                    )
                            )
                            .append(
                                $("<li>")
                                    .append(
                                        $("<img>").attr("src","../cake/img/" + productDetail[3].img).css({"width":"150px","height":"120px"})
                                    )
                            )
                            .append(
                                $("<li>")
                                    .append(
                                        $("<img>").attr("src","../cake/img/" + productDetail[4].img).css({"width":"150px","height":"120px"})
                                    )
                            )
                            /*for(let i = 0; i<productDetail.size; i++) {
                                let $li = $(".check01")
                                    .append(
                                        $("<li>")
                                            .append(
                                                $("<input>").attr("type","radio").attr("name", "size").val(productDetail[i].size)
                                            )
                                            .append(
                                                $("<span>").text(productDetail[i].size)
                                            )
                                    )
                            }*/
                        // 获取span标签
                        let $span = $(".price");
                        $span.prepend(
                            $("<h2>").text("¥" + productDetail[0].price + "~" + productDetail[4].price)
                        )
                        // 获取li标签
                        let $li1 = $(".size1");
                        let $input1= $(".input1");
                        $input1.val(productDetail[0].size);
                        $li1.append(
                            $("<span>").text(productDetail[0].size)
                        )
                            .append(
                                $("<span>").text(productDetail[0].price).addClass("price1")
                            )
                        // 获取li标签
                        let $input2 = $(".input2");
                        $input2.val(productDetail[1].size);
                        let $li2 = $(".size2");
                        $li2.append(
                            $("<span>").text(productDetail[1].size)
                        )
                            .append(
                                $("<span>").text(productDetail[1].price).addClass("price2")
                            )
                        // 获取li标签
                        let $li3 = $(".size3");
                        let $input3 = $(".input3");
                        $input3.val(productDetail[2].size);
                        $li3.append(
                            $("<span>").text(productDetail[2].size)
                        )
                            .append(
                                $("<span>").text(productDetail[2].price).addClass("price3")
                            ).append($("<br>"))
                        // 获取li标签
                        let $input4 = $(".input4");
                        $input4.val(productDetail[3].size);
                        let $li4 = $(".size4");
                        $li4.append(
                            $("<span>").text(productDetail[3].size)
                        )
                            .append(
                                $("<span>").text(productDetail[3].price).addClass("").addClass("price4")
                            )
                        // 获取li标签
                        let $input5 = $(".input5");
                        $input5.val(productDetail[4].size);
                        let $li5 = $(".size5");
                        $li5.append(
                            $("<span>").text(productDetail[4].size)
                        )
                            .append(
                                $("<span>").text(productDetail[4].price).addClass("price5")
                            )
                    }
                }
            })
            // 给加入购物车添加点击事件
            $(".car").click(function () {
                //取出选中的size值
                let productSize = $('input:radio[name="size"]:checked').val();
                let num = $(".num").val();

                let data = JSON.stringify({
                    'productId':productId,
                    'productSize':productSize,
                    'productQuantity':num})
                $.ajax({
                    type:'GET',
                    data:data,
                    url:'http://localhost:8080/cakeshop/cart/savaCart',
                    success:function (result) {
                        if (result.status == 20000 && result.msg == "成功") {
                            alert("加入购物车成功");
                        }
                    }
                })
            })
            // 给立即购买添加点击事件
            $(".buy").click(function () {
                //取出选中的size值
                let productSize = $('input:radio[name="size"]:checked').val();
                let num = $(".num").val();

                let data = JSON.stringify({
                    'productId':productId,
                    'productSize':productSize,
                    'productQuantity':num})
                $.ajax({
                    type:'GET',
                    data:data,
                    url:'http://localhost:8080/cakeshop/cart/savaCart',
                    success:function (result) {
                        if (result.status == 20000 && result.msg == "成功") {
                            alert("加入购物车成功");
                        }
                    }
                })
            })
        })
        // /减数量
        function reductionOf(obj) {
            //减前判断
            if ($(obj).next().val() == '') {
                $(obj).next().val(1);
            }
            $(obj).next().val(parseInt($(obj).next().val()) - 1);//数值减
            $(obj).next().val($(obj).next().val());//赋值给框
        };
        //加数量
        function add(obj) {
            //加前判断
            if ($(obj).prev().val() == '') {
                $(obj).prev().val(1);
            }
            $(obj).prev().val(parseInt($(obj).prev().val()) + 1);//数值加
            $(obj).prev().val($(obj).prev().val());//赋值给框
        };
        //校验数字格式（只能输入正整数）
        function checkNumber(obj) {
            let reg = /^[1-9]\d*$/;
            if(!reg.test($(obj).val()) || $(obj).val()==''){
                $(obj).val(1);
            }
        }

    </script>
</head>

<body>
<!--页头-->
<div id="headCon">
	<div>
    	<p>我的甜品 你的爱~</p>
        <ol>
            <li><a href="../cake/login.html">请登录</a></li>
            <li><a href="../cake/register.html">注册</a></li>
            <a href="order.html">我的订单</a>
            <a href="shoppingCar.html" class="shoppingCar">
            	<i></i>
            	<span>购物车（0）</span>
            </a>
        </ol>
    </div>
    <ul>
    	<a href="index.html"><li></li></a>
        <ol>
            <li><a href="index.html">首页</a></li>
            <li><a href="western.html">西式甜品</a></li>
            <li><a href="Hong Kong.html">港式甜品</a></li>
            <li><a href="#">中式甜品</a></li>
            <li><a href="#">日式甜品</a></li>
            <li class="search">
                <input value="提拉米苏"><button></button>
            </li>
        </ol>
    </ul>
    <ol></ol>
</div>
<!--内容-->
<div id="contentCon">
	<ul class="title">
<!--    	<li>意式经典-提拉米苏</li>-->
        <li class="right">
            <a href="#">概述</a>
            <a href="#">图集</a>
            <a href="#">参数</a>
            <a href="#" class="pingjia">评价</a>
        </li>
    </ul>
    <div id="show">
    	<div class="pic">
        	<ul class="pic2">
            	<!--<li></li>
                <li class="pic02"></li>
                <li class="pic03"></li>
                <li class="pic04"></li>-->
            </ul>
<!--            <ol></ol>-->
        </div>
        <div class="right">
        	<p>【自营】 味多美 提拉米苏 巧克力口味</p>
            <div>
            	<ul>
                	<span class="price"></span>
<!--                	<h2>25.90~159.90</h2>-->

                    <p>（降价通知）</p>
                </ul>
                <ol>
                	<a href="#" class="tehui">特惠</a>
                    <a href="#">领取满150减15元券，先到先得</a>
                </ol>
                <li>
                	<p>服务</p>
                    <div>
                    	<span>.</span>
                        <p>满88元包邮</p>
                        <span>.</span>
                        <p>不支持无理由货</p>
                        <span>.</span>
                        <p>48小时极速退款</p>
                    </div>
                </li>
            </div>
            <ul>
            	<!--<li class="check01">
                    <p>规格</p>
                    <span>18寸蛋糕</span>
                    <span>14寸蛋糕</span>
                    <span>杯盛蛋糕</span>
                </li>
                <li>
                	<span>小蛋糕</span>
                    <span>双心蛋糕</span>
                </li>-->
                <from>
                    <li class="check01">
                        <p>规格</p>
                        <li class="size1">
                        <input type="radio" name="size" class="input1">
                        </li>
<!--                        <span>18寸蛋糕</span>-->
                        <li class="size2">
                        <input type="radio" name="size" class="input2">
                        </li>
<!--                        <span>18寸蛋糕</span>-->
                        <li class="size3">
                        <input type="radio" name="size" class="input3">
                        </li>
<!--                        <span>18寸蛋糕</span><br/>-->
                        <li class="size4">
                        <input type="radio" name="size" class="input4">
                        </li>
<!--                        <span>18寸蛋糕</span>-->
                        <li class="size5">
                        <input type="radio" name="size" class="input5">
                        </li>
<!--                        <span>18寸蛋糕</span>-->
                    </li>

                </from>
                <script>
                    $(".size1").click(function () {

                    })
                </script>
                <!--<ol>
                    <p>数量</p>
                    <a href="">-</a><input value="1"><a href="">+</a>
            	</ol>-->
                <div style="width: 160px">

                    <div>数量</div>
                    <input style="width: 50px; height: 38px; border: 2px white; float: left;" type="button" value="-" onclick="reductionOf(this)" />

                    <input style="text-align: center; width: 50px; height: 32px; float: left;" type="text" value="1" onblur="checkNumber(this)" class="num" />

                    <input style="width: 50px; height: 38px; border: 2px white;" type="button" value="+" onclick="add(this)" />

                </div>
                <a href="#" class="buy">立刻购买</a>
                <a href="#" class="car">加入购物车</a>
                <a href="#" class="love"></a>
            </ul>
        </div>
    </div>
    <div id="details">
    	<ul>
        	<div>
            	<p>Details</p>
                <span></span>
            </div>
            <p>商品详情</p>
            <span></span>
        </ul>
        <ol>
        	<li>
            	<div>
                	<p>品名</p>
                    <span>提拉米苏</span>
                </div>
                <div class="text02">
                	<p>品牌</p>
                    <span>味多美</span>
                </div>
            </li>
            <li>
            	<div>
                	<p>尺寸</p>
                    <span>6寸&nbsp; 8寸&nbsp; 10寸&nbsp; 14寸&nbsp; 18寸 ...</span>
                </div>
                <div class="text03">
                	<p>保质期</p>
                    <span>3天</span>
                </div>
            </li>
            <li>
            	<div>
                	<p>同城服务</p>
                    <span>同城24小时送达</span>
                </div>
                <div class="text04">
                	<p>贮存条件</p>
                    <span>阴凉干燥处</span>
                </div>
            </li>
            <div>
            	<span>配料</span>
                <p>小麦粉，白砂糖，起酥油，人造奶油，鸡蛋，核桃仁，卡士达粉（白砂糖
                ，起酥油，奶粉，<br>乙酰化二淀粉磷酸酯，食用香精，β-胡萝卜素），红茶，食用盐，食品添加剂（复配膨<br>
                松剂（碳酸氢钠，焦磷酸二氢二钠，磷酸氢钙，玉米淀粉）碳酸氢钠，碳酸氢铵），液体<br>
                调味料（水，糯米，大米，柠檬汁）</p>
            </div>
        </ol>
    </div>
    <div id="origin">
    	<ul>
        	<div>
            	<p>Origin</p>
                <span></span>
            </div>
            <p>商品起源</p>
            <span></span>
        </ul>
        <ol>
        	<li></li>
            <div>
            	<p>一个意大利士兵即将开赴战场，可是家里已经什么也没有了，爱<br>
                他的妻子为了给他准备干粮，把家里所有能吃的饼干、面包全做<br>
                进了一个糕点里，意为带我走，那个糕点就叫提拉米苏。每当这<br>
                个士兵在战场上吃到提拉米苏就会想起他的家，想起家中的爱人<br>
                。在意大利文里，提拉米苏有 “ 带我走 ” 的含义，带走的不只<br>是美味，还有爱和幸福</p>
            </div>
        </ol>
    </div>
    <div id="Indredient">
    	<ul>
        	<div>
            	<p>Indredient</p>
                <span></span>
            </div>
            <p>商品成分</p>
            <span></span>
        </ul>
        <ol></ol>
    </div>
    <div id="shop">
    	<ul>
        	<div>
            	<p>Show</p>
                <span></span>
            </div>
            <p>商品展示</p>
            <span></span>
        </ul>
        <ol>
        	<li></li>
            <div>
            	<li></li>
                <span></span>
            </div>
        </ol>
    </div>
</div>
<!--页脚-->
<div id="footCon">
	<ul>
    	<li>
        	<div class="cold"></div>
            <span></span>
            <ol>
            	<h2>18小时低温</h2>
            	<p>全程冷链配送</p>
            </ol>
        </li>
        <li>
        	<div class="wuxiu"></div>
            <span></span>
            <ol>
            	<h2>7*24小时营业</h2>
            	<p>全年无休</p>
            </ol>
        </li>
        <li>
        	<div class="baoyou"></div>
            <span></span>
            <ol>
            	<h2>满88包邮</h2>
            	<p>次日送达</p>
            </ol>
        </li>
    </ul>
    <ol>
    	<li>
        	<i></i>
            <a href="index.html">www.sweetlove.com</a>
            <div>
            	<a href="http://www.weibo.com" class="weibo"></a>
                <a href="http://wx.qq.com" class="weixin"></a>
            </div>
        </li>
        <ul>
        	<li class="text01">
            	<p>关于甜爱</p>
                <span></span>
                <a href="#">媒体报道</a>
                <a href="#">知识产权</a>
                <a href="#">加入我们</a>
            </li>
            <li>
            	<p>帮助中心</p>
                <span></span>
                <a href="#">购物指南</a>
                <a href="#">订单管理</a>
                <a href="#">常见问题</a>
            </li>
            <li>
            	<p>服务支持</p>
                <span></span>
                <a href="#">服务保障</a>
                <a href="#">用户协议</a>
                <a href="#">售后服务</a>
            </li>
            <li>
            	<p>商业合作</p>
                <span></span>
                <a href="#">集合采购</a>
                <a href="#">品牌合作</a>
                <a href="#">媒体合作</a>
            </li>
        </ul>
        <div>
        	<p>联系我们</p>
            <h2>400-8888-000</h2>
            <span>24小时服务热线</span>
            <a href="#">在线客服</a>
        </div>
    </ol>
    <div></div>
    <li>
        <p>Copyright © 2016 sweetlove.com Inc.All Rights Reserved. 北京甜爱食品有限公司</p>
        <span>版权所有 京ICP备14049645号-1 增值电信业务经营许可证：京ICP证160100号</span>
    </li>
</div>
</body>
</html>
